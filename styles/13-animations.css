/* =============================================================================
   13-animations.css - Combat Animations
   ============================================================================= */

/* =============================================================================
   IDLE ANIMATIONS - Subtle breathing effect for combatant sprites
   ============================================================================= */

/* Idle breathing animation - ONLY for combatant images in active combat */
.combatant-image-container:not(.knocked-out) {
    animation: combatantIdle 3s ease-in-out infinite;
}

@keyframes combatantIdle {
    0%, 100% {
        transform: translateY(0) scale(1);
    }
    50% {
        transform: translateY(-2px) scale(1.01);
    }
}

/* =============================================================================
   HIT FLASH ANIMATIONS â€“ BRIGHT & STRONG BLOOM (MOBILE-FRIENDLY)
   ============================================================================= */

/* Potent hit - Green */
.combatant-image-container.hit-potent {
    animation: flashPotent 0.34s ease-out !important;
}

@keyframes flashPotent {
    0% {
        filter: brightness(1);
        box-shadow: none;
    }
    40% {
        filter: brightness(1.65) saturate(1.45) drop-shadow(0 0 20px rgba(0,255,0,0.8));
        box-shadow: 
            0 0 34px rgba(0,255,0,0.55),
            inset 0 0 60px rgba(0,255,0,0.25);
    }
    100% {
        filter: brightness(1);
        box-shadow: none;
    }
}

/* Neutral hit - White */
.combatant-image-container.hit-neutral {
    animation: flashNeutral 0.34s ease-out !important;
}

@keyframes flashNeutral {
    0% {
        filter: brightness(1);
        box-shadow: none;
    }
    40% {
        filter: brightness(2.2) drop-shadow(0 0 25px rgba(255,255,255,0.9));
        box-shadow: 
            0 0 38px rgba(255,255,255,0.65),
            inset 0 0 70px rgba(255,255,255,0.35);
    }
    100% {
        filter: brightness(1);
        box-shadow: none;
    }
}

/* Weak hit - Red */
.combatant-image-container.hit-weak {
    animation: flashWeak 0.34s ease-out !important;
}

@keyframes flashWeak {
    0% {
        filter: brightness(1);
        box-shadow: none;
    }
    40% {
        filter: brightness(1.55) saturate(1.45) drop-shadow(0 0 20px rgba(255,0,0,0.8));
        box-shadow: 
            0 0 34px rgba(255,0,0,0.55),
            inset 0 0 60px rgba(255,0,0,0.25);
    }
    100% {
        filter: brightness(1);
        box-shadow: none;
    }
}

/* Knockout hit - Dark purple, very fast, intense */
.combatant-image-container.hit-knockout {
    animation: flashKnockout 0.18s ease-out !important;
}

@keyframes flashKnockout {
    0% {
        filter: brightness(1);
        box-shadow: none;
    }
    25% {
        filter: brightness(2.8) saturate(1.3) hue-rotate(270deg) drop-shadow(0 0 25px rgba(138,43,226,0.9));
        box-shadow: 
            0 0 45px rgba(138,43,226,0.8),
            inset 0 0 80px rgba(138,43,226,0.4);
    }
    100% {
        filter: brightness(1);
        box-shadow: none;
    }
}

.hit-shake {
    animation: shake 0.4s ease-out;
}

@keyframes shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    60% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
    100% { transform: translateX(0); }
}
